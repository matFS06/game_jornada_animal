<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adivinhe o Animal üêæ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background-color: #d1f7ff;
      background-image: url('bg_zoologico.jpg');
      background-size: cover;
      background-position: center;
      text-align: center;
      padding: 20px;
    }
    .game-container {
      background-color: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 800px;
      margin: auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .question {
      font-size: 24px;
      color: #00796b;
      margin-bottom: 25px;
    }
    .animal-options {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .animal-card {
      width: 180px;
      border: 4px solid #4db6ac;
      border-radius: 15px;
      overflow: hidden;
      transition: transform 0.2s, border-color 0.2s;
      cursor: pointer;
      background-color: #e0f2f1;
    }
    .animal-card:hover {
      transform: scale(1.05);
      border-color: #00796b;
    }
    .animal-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
    }
    .animal-card p {
      background-color: #b2dfdb;
      margin: 0;
      padding: 10px;
      font-weight: bold;
      color: #004d40;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      font-size: 18px;
      color: #004d40;
      font-weight: bold;
    }
    .feedback {
      font-size: 22px;
      font-weight: bold;
      margin-top: 15px;
    }
    .explanation {
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
      padding: 10px;
      border-radius: 10px;
    }
    .nickname-screen {
      background-color: rgba(255,255,255,0.9);
      border-radius: 20px;
      padding: 40px;
      max-width: 500px;
      margin: 100px auto;
    }
  </style>
</head>
<body>

  <!-- Tela inicial -->
  <div id="start-screen" class="nickname-screen">
    <h1>üê∂ Adivinhe o Animal!</h1>
    <p>Digite seu nome para come√ßar a aventura!</p>
    <input type="text" id="nickname" class="form-control mb-3" placeholder="Seu nome">
    <button class="btn btn-success btn-lg" onclick="startGame()">Iniciar Jogo</button>
  </div>

  <!-- Jogo -->
  <div id="game-screen" class="game-container" style="display:none;">
    <div class="top-bar">
      <div>üë§ Jogador: <span id="playerName"></span></div>
      <div>‚ù§Ô∏è Vidas: <span id="lives">5</span></div>
      <div>‚≠ê Pontos: <span id="score">0</span></div>
    </div>
    <div class="question" id="questionText"></div>
    <div class="animal-options" id="optionsContainer"></div>
    <div class="feedback" id="feedback"></div>
    <div class="explanation" id="explanation"></div>
  </div>

  <!-- Fim de jogo -->
  <div id="end-screen" class="nickname-screen" style="display:none;">
    <h2>üèÅ Fim do Jogo!</h2>
    <p id="finalMessage"></p>
    <button class="btn btn-warning" onclick="location.reload()">Jogar Novamente</button>
  </div>

  <script>
    const translations = {
      rabbit: "Coelho",
      dog: "Cachorro",
      cat: "Gato",
      lion: "Le√£o",
      tiger: "Tigre",
      elephant: "Elefante",
      hippo: "Hipop√≥tamo",
      rhino: "Rinoceronte",
      mouse: "Rato",
      parrot: "Papagaio",
      duck: "Pato",
      bird: "P√°ssaro",
      wolf: "Lobo",
      fox: "Raposa",
      frog: "Sapo",
      turtle: "Tartaruga",
      lizard: "Lagarto",
      fish: "Peixe",
      shark: "Tubar√£o",
      dolphin: "Golfinho",
      penguin: "Pinguim",
      seal: "Foca",
      polar_bear: "Urso Polar",
      giraffe: "Girafa",
      monkey: "Macaco",
      bear: "Urso",
      falcon: "Falc√£o",
      zebra: "Zebra",
      horse: "Cavalo",
      donkey: "Burro",
      snail: "Caracol"
    };

    const questions = [
      { question: "I have long ears and I love carrots!", correct: "rabbit" },
      { question: "I am the king of the jungle!", correct: "lion" },
      { question: "I can swim and I say 'quack quack'!", correct: "duck" },
      { question: "I am very big and I have a long trunk!", correct: "elephant" },
      { question: "I am small and I like cheese!", correct: "mouse" },
      { question: "I can fly and I have colorful feathers!", correct: "parrot" },
      { question: "I guard the house and bark a lot!", correct: "dog" },
      { question: "I sleep a lot and say 'meow'!", correct: "cat" },
      { question: "I am green and I can jump very high!", correct: "frog" },
      { question: "I live in the ocean and have fins!", correct: "fish" },
      { question: "I live in cold places and love snow!", correct: "penguin" },
      { question: "I am very tall and have a long neck!", correct: "giraffe" },
      { question: "I swing on trees and eat bananas!", correct: "monkey" },
      { question: "I have black and white stripes!", correct: "zebra" },
      { question: "I have a shell and move slowly!", correct: "turtle" }
    ];

    let current = 0;
    let score = 0;
    let lives = 5;
    let player = "";

    function startGame() {
      const nickname = document.getElementById("nickname").value.trim();
      if (!nickname) {
        alert("Por favor, digite seu nome!");
        return;
      }
      player = nickname;
      document.getElementById("playerName").textContent = player;
      document.getElementById("start-screen").style.display = "none";
      document.getElementById("game-screen").style.display = "block";
      loadQuestion();
    }

    function loadQuestion() {
      if (current >= questions.length) return endGame();
      const q = questions[current];
      document.getElementById("questionText").textContent = q.question;
      document.getElementById("feedback").textContent = "";
      document.getElementById("explanation").textContent = "";
      const container = document.getElementById("optionsContainer");
      container.innerHTML = "";

      // Embaralha as op√ß√µes
      const allAnimals = Object.keys(translations);
      const options = [q.correct];
      while (options.length < 3) {
        const random = allAnimals[Math.floor(Math.random() * allAnimals.length)];
        if (!options.includes(random)) options.push(random);
      }
      options.sort(() => Math.random() - 0.5);

      options.forEach(option => {
        const div = document.createElement("div");
        div.classList.add("animal-card");
        div.innerHTML = `
          <img src="animals/${option}.png" alt="${option}">
          <p>${option.toUpperCase()}</p>
        `;
        div.onclick = () => checkAnswer(option);
        container.appendChild(div);
      });
    }

    function checkAnswer(selected) {
      const feedback = document.getElementById("feedback");
      const explanation = document.getElementById("explanation");
      const q = questions[current];
      const correctPt = translations[q.correct];
      const questionPt = translateQuestion(q.question);

      if (selected === q.correct) {
        score += 10;
        feedback.textContent = "‚úÖ Resposta correta!";
        feedback.style.color = "green";
        explanation.style.backgroundColor = "#c8f7c5";
        explanation.style.color = "#006400";
        explanation.textContent = `${questionPt} ‚Üí Era o(a) ${correctPt}!`;
      } else {
        lives -= 1;
        feedback.textContent = `‚ùå Resposta errada! A resposta certa era ${q.correct.toUpperCase()}.`;
        feedback.style.color = "red";
        explanation.style.backgroundColor = "#ffbdbd";
        explanation.style.color = "#8b0000";
        explanation.textContent = `${questionPt} ‚Üí Era o(a) ${correctPt}.`;
      }

      document.getElementById("score").textContent = score;
      document.getElementById("lives").textContent = lives;
      current++;

      setTimeout(() => {
        if (lives > 0) loadQuestion();
        else endGame();
      }, 2500);
    }

    function translateQuestion(q) {
      const translationsQ = {
        "I have long ears and I love carrots!": "Eu tenho orelhas longas e adoro cenouras!",
        "I am the king of the jungle!": "Eu sou o rei da selva!",
        "I can swim and I say 'quack quack'!": "Eu sei nadar e digo 'quack quack'!",
        "I am very big and I have a long trunk!": "Sou muito grande e tenho uma tromba longa!",
        "I am small and I like cheese!": "Sou pequeno e gosto de queijo!",
        "I can fly and I have colorful feathers!": "Posso voar e tenho penas coloridas!",
        "I guard the house and bark a lot!": "Eu protejo a casa e late muito!",
        "I sleep a lot and say 'meow'!": "Durmo muito e digo 'miau'!",
        "I am green and I can jump very high!": "Sou verde e posso pular bem alto!",
        "I live in the ocean and have fins!": "Vivo no oceano e tenho nadadeiras!",
        "I live in cold places and love snow!": "Vivo em lugares frios e adoro a neve!",
        "I am very tall and have a long neck!": "Sou muito alto e tenho um pesco√ßo comprido!",
        "I swing on trees and eat bananas!": "Eu balan√ßo nas √°rvores e como bananas!",
        "I have black and white stripes!": "Tenho listras pretas e brancas!",
        "I have a shell and move slowly!": "Tenho uma concha e me movo devagar!"
      };
      return translationsQ[q] || q;
    }

    function endGame() {
      document.getElementById("game-screen").style.display = "none";
      document.getElementById("end-screen").style.display = "block";
      const message = lives > 0 
        ? `üéâ Parab√©ns, ${player}! Voc√™ terminou com ${score} pontos!`
        : `üíÄ Que pena, ${player}! Voc√™ perdeu todas as vidas. Pontua√ß√£o final: ${score}`;
      document.getElementById("finalMessage").textContent = message;
    }
  </script>
</body>
</html>
