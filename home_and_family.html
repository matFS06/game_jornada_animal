<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Picture Quiz ‚Äì Home & Family</title>

<style>
  body {
    font-family: 'Comic Sans MS', cursive;
    background: linear-gradient(to bottom right,#d6f6ff,#ffe6f2);
    text-align:center;
    padding:20px;
  }

  .game-container {
    background:white;
    border-radius:20px;
    padding:25px;
    max-width:900px;
    margin:auto;
    box-shadow:0 4px 12px rgba(0,0,0,0.2);
  }

  #image-box {
    width:75%;
    height:400px;
    background:#ffe6f7;
    border:3px solid #ffb3db;
    border-radius:20px;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    margin:0 auto 20px auto;
  }

  #image-box img {
    width:100%;
    height:100%;
    object-fit:cover;
  }

  .option-btn {
    width:90%;
    max-width:500px;
    background:#fff0f6;
    border:3px solid #ffc1e3;
    padding:15px;
    font-size:22px;
    margin:10px auto;
    border-radius:12px;
    cursor:pointer;
    font-weight:bold;
  }

  .option-btn:hover {
    background:#ffd6eb;
  }

  #feedback {
    margin-top:15px;
    font-size:22px;
    font-weight:bold;
  }
</style>
</head>

<body>

<div class="game-container">

  <div style="display:flex;justify-content:space-between;font-size:22px;font-weight:bold;">
    <div id="questionNumber">Question 1/16</div>
    <div id="scoreBox">Score: 0</div>
  </div>

  <h2>üè† My Home & Family ‚Äì Picture Quiz</h2>

  <div id="image-box">
    <img id="quiz-image">
  </div>

  <div id="options"></div>
  <div id="feedback"></div>

</div>

<script>
/* ===== DADOS ===== */

const family = [
  { word:"Father", img:"father.png", pt:"Pai" },
  { word:"Mother", img:"mother.png", pt:"M√£e" },
  { word:"Brother", img:"brother.png", pt:"Irm√£o" },
  { word:"Sister", img:"sister.png", pt:"Irm√£" },
  { word:"Grandfather", img:"grandfather.png", pt:"Av√¥" },
  { word:"Grandmother", img:"grandmother.png", pt:"Av√≥" },
  { word:"Baby", img:"baby.png", pt:"Beb√™" },
  { word:"Uncle", img:"uncle.png", pt:"Tio" }
];

const home = [
  { word:"Bed", img:"bed.png", pt:"Cama" },
  { word:"Kitchen", img:"kitchen.png", pt:"Cozinha" },
  { word:"House", img:"house.png", pt:"Casa" },
  { word:"Chair", img:"chair.png", pt:"Cadeira" },
  { word:"Window", img:"window.png", pt:"Janela" },
  { word:"Door", img:"door.png", pt:"Porta" },
  { word:"Table", img:"table.png", pt:"Mesa" },
  { word:"Lamp", img:"lamp.png", pt:"L√¢mpada" }
];

const ALL_ITEMS = [
  ...family.map(i => ({...i, category:"family"})),
  ...home.map(i => ({...i, category:"home"}))
];

function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

/* ===== ESTADO ===== */

let order = [];
let current = 0;
let score = 0;

/* ===== JOGO ===== */

function startGame(){
  order = shuffle([...ALL_ITEMS]);
  current = 0;
  score = 0;
  updateHeader();
  loadQuestion();
}

function updateHeader(){
  document.getElementById("questionNumber").innerText =
    `Question ${current+1}/16`;
  document.getElementById("scoreBox").innerText =
    `Score: ${score}`;
}

function loadQuestion(){
  document.getElementById("feedback").innerHTML = "";
  document.getElementById("options").innerHTML = "";
  document.getElementById("image-box").style.display = "flex";

  const item = order[current];
  const folder = item.category === "family" ? "family" : "home";
  document.getElementById("quiz-image").src = `${folder}/${item.img}`;

  setTimeout(()=>{
    document.getElementById("image-box").style.display = "none";
    showOptions(item);
  },6000);
}

/* ===== OP√á√ïES COM BLOQUEIOS ===== */

function showOptions(correctItem){
  const optionsDiv = document.getElementById("options");
  const group = correctItem.category === "family" ? family : home;

  let wrong = group.filter(x => x.word !== correctItem.word);

  /* BLOQUEIOS */
  if(correctItem.word === "Father"){
    wrong = wrong.filter(x => x.word !== "Uncle");
  }
  if(correctItem.word === "Uncle"){
    wrong = wrong.filter(x => x.word !== "Father" && x.word !== "Brother");
  }
  if(correctItem.word === "Brother"){
    wrong = wrong.filter(x => x.word !== "Baby" && x.word !== "Uncle");
  }
  if(correctItem.word === "Baby"){
    wrong = wrong.filter(x => x.word !== "Brother");
  }

  shuffle(wrong);
  wrong = wrong.slice(0,3);

  let options = shuffle([
    correctItem.word,
    wrong[0].word,
    wrong[1].word,
    wrong[2].word
  ]);

  options.forEach(opt=>{
    const btn = document.createElement("div");
    btn.className = "option-btn";
    btn.innerText = opt;
    btn.onclick = ()=>checkAnswer(opt, correctItem);
    optionsDiv.appendChild(btn);
  });
}

/* ===== FEEDBACK ===== */

function checkAnswer(selected, correctItem){
  const fb = document.getElementById("feedback");

  if(selected === correctItem.word){
    fb.style.color = "green";
    fb.innerHTML = `üéâ Muito bem!<br>
      <b>${correctItem.word}</b> significa <b>${correctItem.pt}</b>.`;
    score += 10;
  } else {
    fb.style.color = "red";
    fb.innerHTML = `üò¢ Que pena, voc√™ errou.<br>
      A resposta correta √© <b>${correctItem.word}</b> ‚Äî <b>${correctItem.pt}</b>.`;
  }

  updateHeader();
  setTimeout(nextQuestion, 2000);
}

function nextQuestion(){
  current++;
  if(current >= 16){
    endGame();
  } else {
    loadQuestion();
  }
}

function endGame(){
  document.querySelector(".game-container").innerHTML = `
    <h2>üéâ Parab√©ns!</h2>
    <p style="font-size:26px;">Pontua√ß√£o final: <b>${score}</b> / 160</p>
    <button class="option-btn" onclick="location.reload()">Jogar novamente</button>
  `;
}

startGame();
</script>

</body>
</html>
