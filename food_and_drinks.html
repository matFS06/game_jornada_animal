<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üçé Food and Drinks</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(to bottom right, #fff4d1, #ffe6e9);
      text-align: center;
      padding: 20px;
    }

    .game-container {
      background: white;
      border-radius: 20px;
      padding: 25px;
      max-width: 850px;
      margin: auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: bold;
      color: #6d4c41;
      margin-bottom: 20px;
    }

    .recipe {
      font-size: 22px;
      color: #8d6e63;
      margin-bottom: 20px;
    }

    .ingredients {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
    }

    .ingredient-card {
      border: 3px solid #f8bbd0;
      border-radius: 15px;
      background-color: #fff0f6;
      width: 160px;
      padding: 15px;
      transition: transform 0.2s;
    }

    .ingredient-card:hover { transform: scale(1.05); }

    .ingredient-card img {
      width: 80px;
      height: 80px;
    }

    .quantity-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    .quantity-controls button {
      border: none;
      background-color: #ffccbc;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      font-size: 18px;
      color: #5d4037;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .quantity-controls button:hover {
      background-color: #ffab91;
    }

    .quantity-display {
      font-size: 18px;
      font-weight: bold;
      color: #6d4c41;
    }

    #feedback {
      font-size: 20px;
      margin-top: 20px;
      font-weight: bold;
    }

    #nextBtn {
      display: none;
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      .ingredient-card { width: 120px; padding: 10px; }
      .ingredient-card img { width: 60px; height: 60px; }
    }
  </style>
</head>
<body>

  <div class="game-container">
    <div class="top-bar">
      <div>üë§ Jogador: <span id="playerName">Guest</span></div>
      <div>‚≠ê Pontos: <span id="score">0</span></div>
      <div>üçΩÔ∏è Receita: <span id="levelNum">1</span>/15</div>
    </div>

    <h2 id="recipeName" class="recipe">Let's Cook!</h2>
    <p id="recipeText" class="fw-bold"></p>

    <div class="ingredients" id="ingredients"></div>

    <button id="checkBtn" class="btn btn-success mt-3" onclick="checkRecipe()">üç¥ Mix!</button>
    <button id="nextBtn" class="btn btn-warning mt-3" onclick="nextRecipe()">Next Recipe ‚ñ∂Ô∏è</button>

    <div id="feedback"></div>
  </div>

  <script>
    // --- Fun√ß√£o para embaralhar ---
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    const recipes = shuffleArray([
      { name: "üçé Apple Pie", instruction: "For an apple pie, you need 3 apples, 2 flours, and 1 sugar.", ingredients: { apple: 3, flour: 2, sugar: 1 }, translation: "Para uma torta de ma√ß√£, voc√™ precisa de 3 ma√ß√£s, 2 farinhas e 1 a√ß√∫car." },
      { name: "üçã Lemonade", instruction: "For lemonade, mix 3 lemons, 1 sugar, and 1 water.", ingredients: { lemon: 3, sugar: 1, water: 1 }, translation: "Para uma limonada, misture 3 lim√µes, 1 a√ß√∫car e 1 √°gua." },
      { name: "ü•™ Sandwich", instruction: "To make a sandwich, use 2 bread, 1 cheese, and 1 ham.", ingredients: { bread: 2, cheese: 1, ham: 1 }, translation: "Para fazer um sandu√≠che, use 2 p√£es, 1 queijo e 1 presunto." },
      { name: "üçï Pizza", instruction: "For a pizza, you need 1 dough, 4 cheeses, and 3 tomatos.", ingredients: { dough: 1, cheese: 4, tomato: 3 }, translation: "Para uma pizza, voc√™ precisa de 1 massa, 4 queijos e 3 tomates." },
      { name: "üç∞ Cake", instruction: "For a cake, use 2 flours, 3 eggs, and 1 sugar.", ingredients: { flour: 2, eggs: 3, sugar: 1 }, translation: "Para um bolo, use 2 farinhas, 3 ovos e 1 a√ß√∫car." },
      { name: "üçì Smoothie", instruction: "For a smoothie, blend 4 strawberries, 2 milks, and 1 sugar.", ingredients: { strawberry: 4, milk: 2, sugar: 1 }, translation: "Para um smoothie, misture 4 morangos, 2 leites e 1 a√ß√∫car." },
      { name: "üçî Burger", instruction: "To make a burger, use 2 breads, 1 meat, and 2 cheeses.", ingredients: { bread: 2, meat: 1, cheese: 2 }, translation: "Para fazer um hamb√∫rguer, use 2 p√£es, 1 carne e 2 queijos." },
      { name: "ü•ó Salad", instruction: "For a salad, mix 2 lettuces, 3 tomatos, and 1 carrot.", ingredients: { lettuce: 2, tomato: 3, carrot: 1 }, translation: "Para uma salada, misture 2 alfaces, 3 tomates e 1 cenoura." },
      { name: "üçå Banana Shake", instruction: "For a banana shake, use 3 bananas, 1 milk, and 1 sugar.", ingredients: { banana: 3, milk: 1, sugar: 1 }, translation: "Para um milkshake de banana, use 3 bananas, 1 leite e 1 a√ß√∫car." },
      { name: "ü•û Pancake", instruction: "For pancakes, use 2 flours, 1 milk, and 3 eggs.", ingredients: { flour: 2, milk: 1, eggs: 3 }, translation: "Para panquecas, use 2 farinhas, 1 leite e 3 ovos." },
      { name: "üçù Pasta", instruction: "For pasta, you need 2 noodles, 2 tomatos, and 1 cheese.", ingredients: { noodles: 2, tomato: 2, cheese: 1 }, translation: "Para macarr√£o, voc√™ precisa de 2 macarr√µes, 2 tomates e 1 queijo." },
      { name: "üç© Donuts", instruction: "For donuts, use 3 flours, 2 sugars, and 1 milk.", ingredients: { flour: 3, sugar: 2, milk: 1 }, translation: "Para donuts, use 3 farinhas, 2 a√ß√∫cares e 1 leite." },
      { name: "üçá Fruit Salad", instruction: "For a fruit salad, mix 2 apples, 3 bananas, and 4 strawberries.", ingredients: { apple: 2, banana: 3, strawberry: 4 }, translation: "Para uma salada de frutas, misture 2 ma√ß√£s, 3 bananas e 4 morangos." },
      { name: "üç´ Hot Chocolate", instruction: "For hot chocolate, mix 1 milk, 2 chocolates, and 1 sugar.", ingredients: { milk: 1, chocolate: 2, sugar: 1 }, translation: "Para chocolate quente, misture 1 leite, 2 chocolates e 1 a√ß√∫car." },
      { name: "üç≥ Omelet", instruction: "For an omelet, use 2 eggs, 1 cheese, and 1 tomato.", ingredients: { eggs: 2, cheese: 1, tomato: 1 }, translation: "Para uma omelete, use 2 ovos, 1 queijo e 1 tomate." }
    ]);

    let current = 0;
    let score = 0;
    let selected = {};

    function startRecipe() {
      const r = recipes[current];
      document.getElementById("recipeName").textContent = r.name;
      document.getElementById("recipeText").textContent = r.instruction;
      document.getElementById("levelNum").textContent = current + 1;
      document.getElementById("feedback").textContent = "";
      document.getElementById("nextBtn").style.display = "none";
      document.getElementById("checkBtn").style.display = "inline-block";

      const ingredientsContainer = document.getElementById("ingredients");
      ingredientsContainer.innerHTML = "";

      selected = {};
      const ingKeys = shuffleArray(Object.keys(r.ingredients)); // embaralhar ingredientes
      ingKeys.forEach(ing => {
        selected[ing] = 0;

        const card = document.createElement("div");
        card.className = "ingredient-card";
        card.innerHTML = `
          <img src="foods/${ing}.png" alt="${ing}">
          <div class="quantity-controls">
            <button onclick="changeQty('${ing}', -1)">‚àí</button>
            <span id="qty-${ing}" class="quantity-display">0</span>
            <button onclick="changeQty('${ing}', 1)">+</button>
          </div>
        `;
        ingredientsContainer.appendChild(card);
      });
    }

    function changeQty(ing, val) {
      const newQty = Math.max(0, (selected[ing] || 0) + val);
      selected[ing] = newQty;
      document.getElementById(`qty-${ing}`).textContent = newQty;
    }

    function checkRecipe() {
      const r = recipes[current];
      const correct = Object.keys(r.ingredients).every(ing => selected[ing] === r.ingredients[ing]);

      const feedback = document.getElementById("feedback");
      if (correct) {
        score += 10;
        feedback.textContent = `‚úÖ Correct! ${r.translation}`;
        feedback.style.color = "green";
      } else {
        feedback.textContent = `‚ùå Try again! ${r.translation}`;
        feedback.style.color = "red";
      }

      document.getElementById("score").textContent = score;
      document.getElementById("checkBtn").style.display = "none";
      document.getElementById("nextBtn").style.display = "inline-block";
    }

    function nextRecipe() {
      current++;
      if (current < recipes.length) startRecipe();
      else endGame();
    }

    function endGame() {
      document.querySelector(".game-container").innerHTML = `
        <h2>üèÅ Cooking Complete!</h2>
        <p>Great job, chef! You scored ${score} points!</p>
        <button class="btn btn-warning" onclick="location.reload()">Play Again</button>
      `;
    }

    startRecipe();
  </script>
</body>
</html>
